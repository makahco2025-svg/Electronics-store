<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>متجر ياسر السعودي</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <!-- React -->
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
      body {
        font-family: 'Cairo', sans-serif;
      }
      @keyframes fadeIn {
        from { opacity: 0; transform: scale(0.95); }
        to { opacity: 1; transform: scale(1); }
      }
      .animate-fade-in {
        animation: fadeIn 0.3s ease-out forwards;
      }
    </style>
  <script type="importmap">
{
  "imports": {
    "react/": "https://aistudiocdn.com/react@^19.1.1/",
    "react": "https://aistudiocdn.com/react@^19.1.1",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.1.1/"
  }
}
</script>
</head>
  <body class="bg-gray-100 text-gray-800">
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useMemo } = React;

      // بيانات المنتجات التجريبية مع إضافة معرض صور وأسعار للعروض
      const products = [
        {
          id: 1,
          name: 'قاطع تيار كهربائي مفتاح كهرباء للوحات كهرباء مناسب لجميع انواع اللوحات الكهربائية (40 امبير 1 فاز)',
          price: 119,
          oldPrice: 140,
          imageUrls: [
            'https://www2.0zz0.com/2025/09/29/00/800227185.jpg',
            'https://www2.0zz0.com/2025/09/29/00/358649197.jpg',
            'https://www2.0zz0.com/2025/09/29/00/587423899.jpg'
          ],
          description: 'قاطع تيار كهربائي مفتاح كهرباء للوحات كهرباء مناسب لجميع انواع اللوحات الكهربائية (40 امبير 1 فاز).',
          category: 'قاطع تيار'
        },
        {
          id: 2,
          name: 'قاطع تيار كهربائي مفتاح كهرباء للوحات كهرباء مناسب لجميع انواع اللوحات الكهربائية (20 امبير 1 فاز)',
          price: 99,
          imageUrls: [
            'https://www2.0zz0.com/2025/09/29/00/420052542.jpg',
            'https://www2.0zz0.com/2025/09/29/00/599887520.jpg',
            'https://www2.0zz0.com/2025/09/29/00/617122591.jpg'
          ],
          description: 'قاطع تيار كهربائي مفتاح كهرباء للوحات كهرباء مناسب لجميع انواع اللوحات الكهربائية (20 امبير 1 فاز).',
          category: 'قاطع تيار'
        },
        {
          id: 3,
          name: 'مفتاح أحادي الاتجاه 16 امبير من الأدوات الكهربائية من بتيتشينو، 3 قطع',
          price: 98,
          imageUrls: [
            'https://www2.0zz0.com/2025/09/29/00/408676352.jpg',
            'https://www2.0zz0.com/2025/09/29/00/710860124.jpg',
            'https://www2.0zz0.com/2025/09/29/00/866877679.jpg'
          ],
          description: 'مفتاح أحادي الاتجاه 16 امبير من الأدوات الكهربائية من بتيتشينو، 3 قطع.',
          category: 'ادوات كهربائية'
        },
        {
          id: 4,
          name: 'سلك تمديد يمنع خروج الفيشة من اي-لوك، 16 امبير، 250 فولت، 3 متر',
          price: 181,
          oldPrice: 202,
          imageUrls: [
            'https://www2.0zz0.com/2025/09/29/00/326751640.jpg',
            'https://www2.0zz0.com/2025/09/29/00/481978064.jpg',
            'https://www2.0zz0.com/2025/09/29/00/344565393.jpg'
          ],
          description: 'سلك تمديد يمنع خروج الفيشة من اي-لوك، 16 امبير، 250 فولت، 3 متر.',
          category: 'ادوات كهربائية'
        },
        {
          id: 5,
          name: 'مفتاح سخان كامل بالوش والشاسيه من سانشى، يتم تركيبه على العلبة الماجيك بسهولة ومزود بلمبة بيان ألوان متعددة (أبيض)',
          price: 119,
          imageUrls: [
            'https://www2.0zz0.com/2025/09/29/00/929250588.jpg'
          ],
          description: 'مفتاح سخان 20 أمبير كامل عالى الجودة من سانشى.',
          category: 'مفاتيح اضواء'
        },
        {
          id: 6,
          name: 'شنايدر إليكتريك ميلوز ديمر 250 وات أبيض',
          price: 540,
          imageUrls: [
            'https://www2.0zz0.com/2025/09/29/00/264307166.jpg'
          ],
          description: 'مفتاح تعتيم بمقبض دوار فردي يتمتع بحماية من قصر الدائرة الكهربائية والحمل الزائد مع إعادة الضبط التلقائي.',
          category: 'مفاتيح اضواء'
        },
        {
          id: 7,
          name: 'لمبة LED E27 من السويدي 4.5 واط 3000 كلفن 340 لومن (وارم MR16 3 قطع) أبيض',
          price: 160,
          oldPrice: 192.38,
          imageUrls: [
            'https://www2.0zz0.com/2025/09/29/00/643717890.jpg',
            'https://www2.0zz0.com/2025/09/29/00/918582432.jpg'
          ],
          description: 'لمبة LED E27 من السويدي 4.5 واط 3000 كلفن 340 لومن (وارم MR16 3 قطع) أبيض.',
          category: 'لمبات كهربائية'
        },
        {
          id: 8,
          name: 'محول مقبس إضاءة إلى قابس E27، مقبس تمديد الطاقة، محول طاقة مع مفتاح تشغيلإيقاف لحامل اللمبة (3 قطع)',
          price: 160,
          oldPrice: 178.50,
          imageUrls: [
            'https://www2.0zz0.com/2025/09/29/00/910759886.jpg',
            'https://www2.0zz0.com/2025/09/29/00/195159971.jpg',
            'https://www2.0zz0.com/2025/09/29/00/726686060.jpg'
          ],
          description: 'محول مقبس إضاءة إلى قابس E27، مقبس تمديد الطاقة، محول طاقة مع مفتاح تشغيلإيقاف لحامل اللمبة (3 قطع).',
          category: 'اضواء مزاجية'
        }
      ];

      // أيقونات SVG
      const CartIcon = () => (
          <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
          </svg>
      );

      const TrashIcon = () => (
          <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16" />
          </svg>
      );
      
      // مكون البنر الإعلاني
      const AdBanner = ({ imageUrl, title, description, buttonText, buttonLink, onButtonClick }) => (
        <div className="container mx-auto px-6 my-16">
            <div className="relative bg-cover bg-center rounded-lg shadow-lg overflow-hidden h-64" style={{ backgroundImage: `url('${imageUrl}')` }}>
                <div className="absolute inset-0 bg-black opacity-40"></div>
                <div className="relative h-full flex flex-col justify-center items-center text-center text-white p-4">
                    <h3 className="text-3xl lg:text-4xl font-extrabold">{title}</h3>
                    <p className="text-lg mt-2 max-w-lg">{description}</p>
                    <button onClick={onButtonClick} className="mt-6 bg-yellow-400 hover:bg-yellow-500 text-gray-900 font-bold py-3 px-6 rounded-lg text-lg transition duration-300">
                        {buttonText}
                    </button>
                </div>
            </div>
        </div>
      );
      
      // مكون بطاقة المنتج
      const ProductCard = ({ product, onAddToCart, onViewDetails }) => {
        const isOffer = product.oldPrice && product.oldPrice > product.price;
        const discountPercentage = isOffer ? Math.round(((product.oldPrice - product.price) / product.oldPrice) * 100) : 0;

        return (
          <div className="bg-white border border-gray-200 rounded-lg shadow-md overflow-hidden transition-transform duration-300 hover:shadow-xl group flex flex-col">
            <div className="relative overflow-hidden cursor-pointer" onClick={() => onViewDetails(product)}>
              <img className="w-full h-48 object-cover transition-transform duration-300 group-hover:scale-110" src={product.imageUrls[0]} alt={product.name} />
              {isOffer && (
                <div className="absolute top-3 right-3 bg-red-600 text-white text-xs font-bold px-2 py-1 rounded-md shadow-lg">
                  خصم {discountPercentage}%
                </div>
              )}
            </div>
            <div className="p-5 flex flex-col flex-grow">
              <h3 className="text-lg font-bold tracking-tight text-gray-900 cursor-pointer" onClick={() => onViewDetails(product)}>{product.name}</h3>
              <div className="flex-grow"></div> {/* Spacer */}
              <div className="flex items-center justify-between mt-4">
                <div className="flex items-baseline">
                  <span className="text-xl font-bold text-blue-600">{product.price} ج.م.</span>
                  {isOffer && (
                    <span className="text-sm text-gray-500 line-through mr-2">{product.oldPrice} ج.م.</span>
                  )}
                </div>
                <button onClick={(e) => { e.stopPropagation(); onAddToCart(product); }} className="text-gray-900 bg-yellow-400 hover:bg-yellow-500 focus:ring-4 focus:ring-yellow-300 font-bold rounded-lg text-sm px-5 py-2.5 text-center transition-colors">
                  أضف إلى السلة
                </button>
              </div>
            </div>
          </div>
        );
      };

      // مكون الصفحة الرئيسية
      const HomePage = ({ onShopNowClick, onAddToCart, onViewDetails }) => {
          const offerProducts = products.filter(p => p.oldPrice);

          return (
              <>
                  <section className="relative bg-cover bg-center text-white h-[500px]" style={{ backgroundImage: "url('https://i.ytimg.com/vi/4vnikTGExNA/maxresdefault.jpg')" }}>
                      <div className="absolute inset-0 bg-black opacity-50"></div>
                      <div className="relative container mx-auto px-6 h-full flex flex-col justify-center items-start">
                          <h1 className="text-4xl md:text-5xl font-extrabold leading-tight">قوة تدعم مشاريعك</h1>
                          <p className="text-lg md:text-xl mt-4 max-w-lg">اكتشف مجموعتنا من الأدوات الكهربائية عالية الجودة المصممة للمحترفين والهواة.</p>
                          <button onClick={onShopNowClick} className="mt-8 bg-yellow-400 hover:bg-yellow-500 text-gray-900 font-bold py-3 px-6 rounded-lg text-lg transition duration-300">
                              تسوق الآن
                          </button>
                      </div>
                  </section>
                  
                  {/* Best Offers Section */}
                  <section className="py-20 bg-gray-50">
                      <div className="container mx-auto px-6">
                          <h2 className="text-3xl md:text-4xl font-bold text-center text-gray-800 mb-12">أفضل العروض</h2>
                          <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
                              {offerProducts.map(product => (
                                  <ProductCard key={product.id} product={product} onAddToCart={onAddToCart} onViewDetails={onViewDetails} />
                              ))}
                          </div>
                      </div>
                  </section>
                  
                  <AdBanner 
                    imageUrl="https://i.ytimg.com/vi/4vnikTGExNA/maxresdefault.jpg"
                    title="تخفيضات نهاية الموسم"
                    description="لا تفوت فرصة الحصول على أدواتك المفضلة بأسعار لا تقبل المنافسة."
                    buttonText="اكتشف العروض"
                    onButtonClick={onShopNowClick}
                  />
              </>
          );
      };
      
      // مكون نافذة تفاصيل المنتج
      const ProductDetailModal = ({ product, onClose, onAddToCart }) => {
          if (!product) return null;

          const [activeImage, setActiveImage] = useState(product.imageUrls[0]);

          const handleAddToCartAndClose = () => {
              onAddToCart(product);
              onClose();
          };

          return (
              <div className="fixed inset-0 bg-black bg-opacity-70 z-50 flex justify-center items-center p-4" onClick={onClose}>
                  <div className="bg-white rounded-lg shadow-2xl w-full max-w-4xl max-h-[90vh] flex flex-col md:flex-row relative animate-fade-in" onClick={(e) => e.stopPropagation()}>
                      <button onClick={onClose} className="absolute top-3 right-3 bg-gray-200 rounded-full p-1 text-gray-800 hover:bg-gray-300 z-10 w-8 h-8 flex items-center justify-center text-xl">
                          &times;
                      </button>
                      {/* Image Gallery */}
                      <div className="w-full md:w-1/2 p-4 flex flex-col bg-gray-100 rounded-r-lg">
                          <div className="flex-grow flex items-center justify-center mb-4">
                            <img src={activeImage} alt={product.name} className="w-full h-auto max-h-80 object-contain rounded-lg" />
                          </div>
                          <div className="flex space-x-2 space-x-reverse justify-center">
                              {product.imageUrls.map((url, index) => (
                                  <img
                                      key={index}
                                      src={url}
                                      alt={`${product.name} thumbnail ${index + 1}`}
                                      className={`w-16 h-16 object-cover rounded-md cursor-pointer border-2 transition-all ${activeImage === url ? 'border-blue-500 scale-105' : 'border-transparent hover:border-gray-400'}`}
                                      onClick={() => setActiveImage(url)}
                                  />
                              ))}
                          </div>
                      </div>
                      {/* Details */}
                      <div className="w-full md:w-1/2 p-6 flex flex-col">
                        <h2 className="text-2xl md:text-3xl font-bold text-gray-900 mb-4">{product.name}</h2>
                        <p className="text-gray-600 leading-relaxed mb-6 flex-grow">{product.description}</p>
                        <div className="flex flex-col sm:flex-row items-center justify-between mt-auto">
                            <div className="flex items-baseline mb-4 sm:mb-0">
                                <span className="text-2xl md:text-3xl font-bold text-blue-600">{product.price} ج.م.</span>
                                {product.oldPrice && (
                                    <span className="text-lg md:text-xl text-gray-500 line-through mr-3">{product.oldPrice} ج.م.</span>
                                )}
                            </div>
                            <button onClick={handleAddToCartAndClose} className="w-full sm:w-auto text-gray-900 bg-yellow-400 hover:bg-yellow-500 focus:ring-4 focus:ring-yellow-300 font-bold rounded-lg text-base px-6 py-3 text-center transition-colors">
                                أضف إلى السلة
                            </button>
                        </div>
                      </div>
                  </div>
              </div>
          );
      };

      // مكون صفحة المنتجات مع البحث والفلترة
      const ProductsPage = ({ onAddToCart, onViewDetails, onShopNowClick }) => {
          const [searchTerm, setSearchTerm] = useState('');
          const [selectedCategory, setSelectedCategory] = useState('الكل');

          const categories = ['الكل', ...Array.from(new Set(products.map(p => p.category)))];

          const filteredProducts = useMemo(() => {
              return products.filter(product => {
                  const matchesCategory = selectedCategory === 'الكل' || product.category === selectedCategory;
                  const matchesSearch = product.name.toLowerCase().includes(searchTerm.toLowerCase());
                  return matchesCategory && matchesSearch;
              });
          }, [searchTerm, selectedCategory]);

          return (
              <section className="py-20 bg-gray-50">
                  <div className="container mx-auto px-6">
                      <h2 className="text-3xl md:text-4xl font-bold text-center text-gray-800 mb-12">منتجاتنا المميزة</h2>
                      
                      <div className="sticky top-[68px] z-30 bg-gray-50/95 backdrop-blur-sm py-4 mb-12 rounded-lg shadow-md">
                        <div className="mb-4 max-w-md mx-auto">
                            <input
                                type="text"
                                placeholder="ابحث عن منتج..."
                                value={searchTerm}
                                onChange={(e) => setSearchTerm(e.target.value)}
                                className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                            />
                        </div>

                        <div className="flex flex-wrap justify-center gap-2">
                            {categories.map(category => (
                                <button
                                    key={category}
                                    onClick={() => setSelectedCategory(category)}
                                    className={`px-4 py-2 rounded-lg font-medium transition-colors ${
                                        selectedCategory === category
                                            ? 'bg-yellow-400 text-gray-900'
                                            : 'bg-white text-gray-700 border border-gray-300 hover:bg-gray-100'
                                    }`}
                                >
                                    {category}
                                </button>
                            ))}
                        </div>
                      </div>

                       <AdBanner 
                        imageUrl="https://i.ytimg.com/vi/4vnikTGExNA/maxresdefault.jpg"
                        title="شحن مجاني للطلبات فوق 500 ج.م."
                        description="تسوق الآن واحصل على أدواتك مباشرة إلى باب منزلك دون أي تكلفة إضافية."
                        buttonText="تصفح المنتجات"
                        onButtonClick={() => {}}
                      />

                      {filteredProducts.length > 0 ? (
                          <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8">
                              {filteredProducts.map(product => (
                                  <ProductCard key={product.id} product={product} onAddToCart={onAddToCart} onViewDetails={onViewDetails} />
                              ))}
                          </div>
                      ) : (
                          <p className="text-center text-gray-500 text-xl mt-8">لا توجد منتجات تطابق بحثك.</p>
                      )}
                  </div>
              </section>
          );
      };

      // مكون صفحة من نحن
      const AboutPage = () => (
          <section className="py-20 bg-white">
              <div className="container mx-auto px-6">
                  <div className="flex flex-wrap items-center -mx-4">
                      <div className="w-full md:w-1/2 px-4 flex flex-col justify-center mb-8 md:mb-0">
                          <h2 className="text-3xl md:text-4xl font-bold text-gray-800 mb-6 text-center md:text-right">من نحن</h2>
                          <p className="text-lg text-gray-600 leading-relaxed text-center md:text-right">
                              نحن شركة رائدة في صناعة وتوريد الأدوات الكهربائية، نلتزم بتقديم أعلى معايير الجودة والابتكار لعملائنا. نسعى لتمكين المحترفين وأصحاب المشاريع من خلال توفير أدوات موثوقة وعالية الأداء.
                          </p>
                      </div>
                      <div className="w-full md:w-1/2 px-4">
                          <img className="rounded-lg shadow-lg w-full h-auto object-cover max-h-[400px]" src="https://cdn11.bigcommerce.com/s-auqnu/images/stencil/original/f/marine%20cables%20group__90747.original.jpg" alt="ورشة عمل أدواتي" />
                      </div>
                  </div>
              </div>
          </section>
      );

      // مكون صفحة اتصل بنا
      const ContactPage = () => (
          <section className="py-20 bg-white">
              <div className="container mx-auto px-6 text-center">
                  <h2 className="text-3xl md:text-4xl font-bold text-gray-800 mb-6">تواصل معنا</h2>
                  <p className="max-w-3xl mx-auto text-lg text-gray-600 leading-relaxed mb-8">
                      نحن هنا لمساعدتك. يمكنك التواصل معنا عبر البريد الإلكتروني أو الهاتف لأي استفسارات أو طلبات.
                  </p>
                  <div className="bg-gray-100 p-8 rounded-lg inline-block border border-gray-200">
                      <p className="text-xl mb-4">بريد إلكتروني: <a href="mailto:info@adawaty.com" className="text-blue-600 hover:underline">fajr.adv.2013@gmail.com</a></p>
                      <p className="text-xl">هاتف: <a href="tel:01030566078" className="text-blue-600 hover:underline">01030566078</a></p>
                  </div>
              </div>
          </section>
      );

      // مكون صفحة الشروط والأحكام
      const TermsPage = () => (
          <section className="py-20 bg-white">
              <div className="container mx-auto px-6">
                  <h2 className="text-3xl md:text-4xl font-bold text-gray-800 mb-10 text-center">الشروط والأحكام</h2>
                  <div className="max-w-4xl mx-auto text-lg text-gray-700 leading-relaxed space-y-6 text-right">
                      <div>
                          <h3 className="text-2xl font-bold text-gray-800 mb-2">1. مقدمة</h3>
                          <p>
                              مرحبًا بكم في متجر "أدواتي". باستخدامك لهذا الموقع، فإنك توافق على الالتزام بالشروط والأحكام التالية. يرجى قراءتها بعناية.
                          </p>
                      </div>
                      <div>
                          <h3 className="text-2xl font-bold text-gray-800 mb-2">2. استخدام الموقع</h3>
                          <p>
                              يجب ألا يقل عمرك عن 18 عامًا لاستخدام هذا الموقع. أنت مسؤول عن الحفاظ على سرية حسابك وكلمة المرور الخاصة بك.
                          </p>
                      </div>
                      <div>
                          <h3 className="text-2xl font-bold text-gray-800 mb-2">3. المنتجات والأسعار</h3>
                          <p>
                              جميع الأسعار المعروضة بالجنيه المصري وتشمل ضريبة القيمة المضافة. نحتفظ بالحق في تغيير الأسعار في أي وقت دون إشعار مسبق. نحن نبذل قصارى جهدنا لضمان دقة وصف المنتجات وصورها، ولكن لا نضمن خلوها من الأخطاء.
                          </p>
                      </div>
                      <div>
                          <h3 className="text-2xl font-bold text-gray-800 mb-2">4. سياسة الإرجاع</h3>
                          <p>
                              يمكنك إرجاع المنتجات خلال 7 أيام من تاريخ الاستلام بشرط أن تكون في حالتها الأصلية وغير مستخدمة. يتحمل العميل تكاليف الشحن للإرجاع.
                          </p>
                      </div>
                  </div>
              </div>
          </section>
      );
      
      // مكون سلة التسوق الجانبية
      const CartSidebar = ({ isOpen, onClose, cartItems, onUpdateQuantity, onRemoveItem, onCheckout }) => {
          const total = useMemo(() =>
              cartItems.reduce((sum, item) => sum + item.price * item.quantity, 0),
              [cartItems]
          );

          return (
              <div className={`fixed inset-0 z-50 transition-opacity duration-300 ${isOpen ? 'opacity-100' : 'opacity-0 pointer-events-none'}`}>
                  <div className="absolute inset-0 bg-black bg-opacity-50" onClick={onClose}></div>
                  
                  <div className={`absolute top-0 bottom-0 bg-white w-full max-w-md shadow-xl transform transition-transform duration-300 ${isOpen ? 'translate-x-0' : 'translate-x-full'}`} style={{ left: 'auto', right: 0, transform: isOpen ? 'translateX(0)' : 'translateX(100%)' }}>
                      <div className="flex flex-col h-full">
                          <div className="flex justify-between items-center p-5 border-b">
                              <h2 className="text-2xl font-bold">سلة التسوق</h2>
                              <button onClick={onClose} className="text-gray-500 hover:text-gray-800 text-3xl font-light">&times;</button>
                          </div>

                          {cartItems.length === 0 ? (
                              <div className="flex-grow flex items-center justify-center">
                                  <p className="text-gray-500">سلتك فارغة.</p>
                              </div>
                          ) : (
                              <>
                                <div className="flex-grow overflow-y-auto p-5">
                                    {cartItems.map(item => (
                                        <div key={item.id} className="flex items-center space-x-4 space-x-reverse mb-4">
                                            <img src={item.imageUrls[0]} alt={item.name} className="w-20 h-20 object-cover rounded-md" />
                                            <div className="flex-grow">
                                                <p className="font-bold">{item.name}</p>
                                                <p className="text-sm text-gray-600">{item.price} ج.م.</p>
                                                <div className="flex items-center mt-2 space-x-2 space-x-reverse">
                                                    <button onClick={() => onUpdateQuantity(item.id, item.quantity - 1)} className="border rounded-full w-6 h-6 flex items-center justify-center">-</button>
                                                    <span>{item.quantity}</span>
                                                    <button onClick={() => onUpdateQuantity(item.id, item.quantity + 1)} className="border rounded-full w-6 h-6 flex items-center justify-center">+</button>
                                                </div>
                                            </div>
                                            <button onClick={() => onRemoveItem(item.id)} className="text-red-500 hover:text-red-700">
                                                <TrashIcon />
                                            </button>
                                        </div>
                                    ))}
                                </div>
                                <div className="p-5 border-t bg-gray-50">
                                    <div className="flex justify-between items-center mb-4">
                                        <span className="text-lg font-bold">الإجمالي</span>
                                        <span className="text-2xl font-bold text-blue-600">{total} ج.م.</span>
                                    </div>
                                    <button onClick={onCheckout} className="w-full bg-yellow-400 text-gray-900 font-bold py-3 rounded-lg hover:bg-yellow-500 transition-colors">
                                        إتمام الشراء
                                    </button>
                                </div>
                              </>
                          )}
                      </div>
                  </div>
              </div>
          );
      };

       // مكون صفحة اتمام الشراء
      const CheckoutPage = ({ cartItems, onConfirmOrder }) => {
        const [formData, setFormData] = useState({
            name: '',
            email: '',
            phone: '',
            address: ''
        });

        const total = useMemo(() =>
            cartItems.reduce((sum, item) => sum + item.price * item.quantity, 0),
            [cartItems]
        );

        const handleInputChange = (e) => {
            const { name, value } = e.target;
            setFormData(prev => ({ ...prev, [name]: value }));
        };

        const handleSubmit = (e) => {
            e.preventDefault();
            // Basic validation
            if (!formData.name || !formData.email || !formData.phone || !formData.address) {
                alert('يرجى تعبئة جميع الحقول.');
                return;
            }
            onConfirmOrder(formData);
        };

        return (
            <section className="py-20 bg-gray-50">
                <div className="container mx-auto px-6">
                    <h2 className="text-3xl md:text-4xl font-bold text-center text-gray-800 mb-12">إتمام عملية الشراء</h2>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-12 max-w-6xl mx-auto">
                        {/* Form */}
                        <div className="bg-white p-8 rounded-lg shadow-md border">
                            <h3 className="text-2xl font-bold mb-6">بيانات الشحن</h3>
                            <form onSubmit={handleSubmit} className="space-y-4">
                                <div>
                                    <label htmlFor="name" className="block text-sm font-medium text-gray-700 mb-1">الاسم الكامل</label>
                                    <input type="text" id="name" name="name" value={formData.name} onChange={handleInputChange} className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required />
                                </div>
                                <div>
                                    <label htmlFor="email" className="block text-sm font-medium text-gray-700 mb-1">البريد الإلكتروني</label>
                                    <input type="email" id="email" name="email" value={formData.email} onChange={handleInputChange} className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required />
                                </div>
                                <div>
                                    <label htmlFor="phone" className="block text-sm font-medium text-gray-700 mb-1">رقم الهاتف</label>
                                    <input type="tel" id="phone" name="phone" value={formData.phone} onChange={handleInputChange} className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required />
                                </div>
                                <div>
                                    <label htmlFor="address" className="block text-sm font-medium text-gray-700 mb-1">عنوان الشحن</label>
                                    <textarea id="address" name="address" rows="3" value={formData.address} onChange={handleInputChange} className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" required></textarea>
                                </div>
                                <button type="submit" className="w-full bg-yellow-400 text-gray-900 font-bold py-3 rounded-lg hover:bg-yellow-500 transition-colors text-lg">
                                    تأكيد الطلب
                                </button>
                            </form>
                        </div>
                        {/* Order Summary */}
                        <div className="bg-white p-8 rounded-lg shadow-md border">
                            <h3 className="text-2xl font-bold mb-6">ملخص الطلب</h3>
                            <div className="space-y-4 max-h-80 overflow-y-auto pr-2">
                                {cartItems.map(item => (
                                    <div key={item.id} className="flex justify-between items-center">
                                        <div className="flex items-center space-x-3 space-x-reverse">
                                            <img src={item.imageUrls[0]} alt={item.name} className="w-16 h-16 object-cover rounded-md"/>
                                            <div>
                                                <p className="font-bold text-sm">{item.name}</p>
                                                <p className="text-xs text-gray-500">الكمية: {item.quantity}</p>
                                            </div>
                                        </div>
                                        <p className="font-semibold">{item.price * item.quantity} ج.م.</p>
                                    </div>
                                ))}
                            </div>
                            <div className="border-t mt-6 pt-6">
                                <div className="flex justify-between items-center text-xl font-bold">
                                    <span>الإجمالي</span>
                                    <span>{total} ج.م.</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        );
      };

      // مكون صفحة تأكيد الطلب
      const ConfirmationPage = ({ onGoHome }) => (
          <section className="py-20 bg-white">
              <div className="container mx-auto px-6 text-center">
                  <svg className="w-24 h-24 mx-auto text-green-500 mb-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                  <h2 className="text-3xl md:text-4xl font-bold text-gray-800 mb-4">شكراً لك!</h2>
                  <p className="max-w-2xl mx-auto text-lg text-gray-600 leading-relaxed mb-8">
                      لقد قمنا بفتح برنامج البريد الإلكتروني الخاص بك. يرجى مراجعة الرسالة والضغط على 'إرسال' لتأكيد طلبك. سنتواصل معك قريباً.
                  </p>
                  <button onClick={onGoHome} className="bg-yellow-400 hover:bg-yellow-500 text-gray-900 font-bold py-3 px-8 rounded-lg text-lg transition duration-300">
                      العودة إلى الصفحة الرئيسية
                  </button>
              </div>
          </section>
      );

      const App = () => {
          const [currentPage, setCurrentPage] = useState('home');
          const [cartItems, setCartItems] = useState([]);
          const [isCartOpen, setIsCartOpen] = useState(false);
          const [selectedProduct, setSelectedProduct] = useState(null);
          const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);

          const handleAddToCart = (productToAdd) => {
              setCartItems(prevItems => {
                  const existingItem = prevItems.find(item => item.id === productToAdd.id);
                  if (existingItem) {
                      return prevItems.map(item =>
                          item.id === productToAdd.id
                              ? { ...item, quantity: item.quantity + 1 }
                              : item
                      );
                  }
                  return [...prevItems, { ...productToAdd, quantity: 1 }];
              });
          };

          const handleUpdateQuantity = (productId, quantity) => {
              if (quantity === 0) {
                  handleRemoveFromCart(productId);
              } else {
                  setCartItems(cartItems.map(item =>
                      item.id === productId ? { ...item, quantity } : item
                  ));
              }
          };

          const handleRemoveFromCart = (productId) => {
              setCartItems(cartItems.filter(item => item.id !== productId));
          };
          
          const handleGoToCheckout = () => {
              setIsCartOpen(false);
              setCurrentPage('checkout');
          };
          
          const handleConfirmOrder = (customerData) => {
              const recipientEmail = 'fajr.adv.2013@gmail.com';
              const subject = 'طلب جديد من متجر أدواتي';
              const total = cartItems.reduce((sum, item) => sum + item.price * item.quantity, 0);

              const body = `
طلب جديد من متجر أدواتي
--------------------------
بيانات العميل:
- الاسم: ${customerData.name}
- البريد الإلكتروني: ${customerData.email}
- الهاتف: ${customerData.phone}
- العنوان: ${customerData.address}
--------------------------
تفاصيل الطلب:
${cartItems.map(item => `- ${item.name} | الكمية: ${item.quantity} | السعر: ${item.price * item.quantity} ج.م.`).join('\n')}
--------------------------
الإجمالي: ${total} ج.م.
              `.trim();

              const mailtoLink = `mailto:${recipientEmail}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
              
              window.location.href = mailtoLink;

              setCartItems([]);
              setCurrentPage('confirmation');
          };


          const cartItemCount = useMemo(() =>
              cartItems.reduce((sum, item) => sum + item.quantity, 0),
              [cartItems]
          );

          const NavLink = ({ page, children, isMobile }) => {
              const isActive = currentPage === page;
              const mobileClasses = "block w-full text-center py-2 transition-colors duration-200 rounded-md " + (isActive ? 'text-blue-600 font-bold bg-blue-50' : 'text-gray-600 hover:bg-gray-100');
              const desktopClasses = "transition-colors duration-200 pb-1 " + (isActive ? 'text-blue-600 font-bold border-b-2 border-blue-600' : 'text-gray-600 hover:text-blue-600');
              
              return (
                  <li>
                      <a href="#" onClick={(e) => { 
                              e.preventDefault(); 
                              setCurrentPage(page);
                              if(isMobile) setIsMobileMenuOpen(false);
                          }}
                        className={isMobile ? mobileClasses : desktopClasses}>
                          {children}
                      </a>
                  </li>
              );
          };

          return (
              <div className="flex flex-col min-h-screen bg-gray-50">
                  <CartSidebar 
                      isOpen={isCartOpen}
                      onClose={() => setIsCartOpen(false)}
                      cartItems={cartItems}
                      onUpdateQuantity={handleUpdateQuantity}
                      onRemoveItem={handleRemoveFromCart}
                      onCheckout={handleGoToCheckout}
                  />
                   <ProductDetailModal
                      product={selectedProduct}
                      onClose={() => setSelectedProduct(null)}
                      onAddToCart={handleAddToCart}
                  />
                  <header className="bg-white shadow-md sticky top-0 z-40">
                      <nav className="container mx-auto px-6 py-4 flex justify-between items-center">
                           <div className="flex items-center space-x-2 space-x-reverse cursor-pointer" onClick={() => setCurrentPage('home')}>
                              <img src="https://avatars.mds.yandex.net/get-ydo/1649611/2a0000017150f208e0fa1b29e1c7a4ae3377/diploma" alt="شعار متجر ياسر السعودي" className="h-10" />
                               <span className="hidden sm:inline text-xl font-bold text-blue-600">متجر ياسر السعودي</span>
                          </div>
                          
                          {/* Desktop Menu & Cart */}
                          <div className="hidden md:flex items-center space-x-8 space-x-reverse">
                              <ul className="flex items-center space-x-8 space-x-reverse">
                                  <NavLink page="home">الرئيسية</NavLink>
                                  <NavLink page="products">المنتجات</NavLink>
                                  <NavLink page="about">من نحن</NavLink>
                                  <NavLink page="contact">اتصل بنا</NavLink>
                              </ul>
                              <button onClick={() => setIsCartOpen(true)} className="relative text-gray-600 hover:text-blue-600">
                                  <CartIcon />
                                  {cartItemCount > 0 && (
                                      <span className="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">
                                          {cartItemCount}
                                      </span>
                                  )}
                              </button>
                          </div>
                          
                          {/* Mobile Menu Button & Cart */}
                          <div className="md:hidden flex items-center space-x-4 space-x-reverse">
                              <button onClick={() => setIsCartOpen(true)} className="relative text-gray-600 hover:text-blue-600">
                                  <CartIcon />
                                  {cartItemCount > 0 && (
                                      <span className="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">
                                          {cartItemCount}
                                      </span>
                                  )}
                              </button>
                              <button onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)} className="text-gray-600 hover:text-blue-600 focus:outline-none">
                                  <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                      <path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d={isMobileMenuOpen ? "M6 18L18 6M6 6l12 12" : "M4 6h16M4 12h16m-7 6h7"}></path>
                                  </svg>
                              </button>
                          </div>
                      </nav>
                      
                      {/* Mobile Menu */}
                      {isMobileMenuOpen && (
                          <div className="md:hidden bg-white py-2 px-6 shadow-lg">
                              <ul className="flex flex-col items-center space-y-2">
                                  <NavLink page="home" isMobile={true}>الرئيسية</NavLink>
                                  <NavLink page="products" isMobile={true}>المنتجات</NavLink>
                                  <NavLink page="about" isMobile={true}>من نحن</NavLink>
                                  <NavLink page="contact" isMobile={true}>اتصل بنا</NavLink>
                              </ul>
                          </div>
                      )}
                  </header>

                  <main className="flex-grow">
                      {currentPage === 'home' && <HomePage onShopNowClick={() => setCurrentPage('products')} onAddToCart={handleAddToCart} onViewDetails={setSelectedProduct} />}
                      {currentPage === 'products' && <ProductsPage onAddToCart={handleAddToCart} onViewDetails={setSelectedProduct} onShopNowClick={() => setCurrentPage('products')} />}
                      {currentPage === 'about' && <AboutPage />}
                      {currentPage === 'contact' && <ContactPage />}
                      {currentPage === 'terms' && <TermsPage />}
                      {currentPage === 'checkout' && <CheckoutPage cartItems={cartItems} onConfirmOrder={handleConfirmOrder} />}
                      {currentPage === 'confirmation' && <ConfirmationPage onGoHome={() => setCurrentPage('home')} />}
                  </main>

                  <footer className="bg-gray-800 text-white py-6">
                      <div className="container mx-auto px-6 text-center">
                          <div className="mb-4 space-x-4 space-x-reverse">
                              <a href="#" onClick={(e) => { e.preventDefault(); setCurrentPage('terms'); }} className="text-gray-400 hover:text-white">الشروط والأحكام</a>
                              <span className="text-gray-500">|</span>
                              <a href="#" onClick={(e) => { e.preventDefault(); setCurrentPage('contact'); }} className="text-gray-400 hover:text-white">اتصل بنا</a>
                          </div>
                          <p className="text-gray-400">&copy; 2025 متجر ياسر السعودي. جميع الحقوق محفوظة.</p>
                      </div>
                  </footer>
              </div>
          );
      };

      const rootElement = document.getElementById('root');
      const root = ReactDOM.createRoot(rootElement);
      root.render(<App />);
    </script>
</body>
</html>